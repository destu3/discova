(()=>{"use strict";const e="id\n  title {\n    romaji\n    english\n    native\n  }\n  type\n  genres\n  startDate {\n    year\n    month\n    day\n  }\n  endDate {\n    year\n    month\n    day\n  }\n  season\n  seasonYear\n  format\n  status\n  episodes\n  trending\n  trailer {\n    id\n    site\n  }\n  bannerImage\n  coverImage {\n    extraLarge\n    large\n    color\n  }\n  description\n  averageScore\n  popularity\n  duration\n  nextAiringEpisode{\n    airingAt\n    timeUntilAiring\n    episode\n  }",n={popularAiring:{query:`query ($page: Int, $perPage: Int) {\n        Page(page: $page, perPage: $perPage) {\n          pageInfo {\n            total\n            perPage\n          }\n          media(type: ANIME, status: RELEASING, sort: POPULARITY_DESC) {\n            ${e}\n          }\n        }\n      }\n      `,variable:{page:1,perPage:20}},popularNextSeason:{query:`query ($page: Int, $perPage: Int) {\n      Page(page: $page, perPage: $perPage) {\n        pageInfo {\n          total\n          perPage\n        }\n        media(type: ANIME, status: NOT_YET_RELEASED, season: ${(t=function(){const e=(new Date).getMonth()+1;let n="winter";return e>=10&&e<=12?n="fall":e>=4&&e<=6?n="spring":e>=7&&e<=9&&(n="summer"),n}(),"winter"===t?"spring":"spring"===t?"summer":"summer"===t?"fall":"winter").toUpperCase()}, sort: POPULARITY_DESC) {\n          ${e}\n        }\n      }\n    }\n    `,variable:{page:1,perPage:20}},allTimePopular:{query:`query ($page: Int, $perPage: Int) {\n        Page(page: $page, perPage: $perPage) {\n          pageInfo {\n            total\n            perPage\n          }\n          media(type: ANIME, sort: POPULARITY_DESC) {\n            ${e}\n          }\n        }\n      }\n      `,variable:{page:1,perPage:20}},trending:{query:`query ($page: Int, $perPage: Int) {\n        Page(page: $page, perPage: $perPage) {\n          pageInfo {\n            total\n            perPage\n          }\n          media(type: ANIME, sort: TRENDING_DESC) {\n            ${e}\n          }\n        }\n      }\n      `,variable:{page:1,perPage:20}}};var t;async function r(e,n){let t=e,r=n,a={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:t,variables:r}),mode:"cors"},i=await fetch("https://graphql.anilist.co",a);return(await i.json()).data.Page.media}const a=function(){return r(n.trending.query,n.trending.variable)},i=function(){return r(n.popularAiring.query,n.popularAiring.variable)},o=function(){return r(n.popularNextSeason.query,n.popularNextSeason.variable)},l=function(){return r(n.allTimePopular.query,n.allTimePopular.variable)},s=function(e,n,t){const r=function(e,n){const t=`\n    <div class="${e} results-container w-full featured-sect relative bottom-6">\n      <h1 class="sect-title">${n}</h1>\n      <div class="media-wrapper"></div>\n    </div>\n    `;return document.querySelector("main").insertAdjacentHTML("beforeend",t),document.querySelector(`.${e} .media-wrapper`)}(e,n);t().then((n=>{n.forEach((e=>{const n=`<div class="media-card cursor-pointer relative max-w-[144px] md:max-w-[185px] h-fit rounded-md" data-video_id =${(t=e).trailer?.id} data-media_id=${t.id}>\n    <div class="cover w-full cursor-pointer rounded-md overflow-hidden z-10 inline-block"\n      ><img\n      class="w-full h-[202.54px] md:h-[265px] object-cover" src="${t.coverImage.extraLarge}" alt=""/>\n    </div>\n    <a href="" class="title text-[0.8rem] md:text-[0.9rem] pt-1 inline-block w-[140px] md:w-[180px] overflow-hidden text-ellipsis">${t.title?.english||t.title?.romaji||t.title?.native}</a>\n    <div class="details-overlay rounded-md bg-[var(--overlay-grey)] opacity-0 absolute h-[202.54px] md:h-[265px] w-full left-0 top-0">\n    <div class="trailer-container relative w-full overflow-hidden pt-[56.25%]">\n      <iframe\n      class="trailer absolute top-0 left-0 right-0 bottom-0 w-full h-full cursor-pointer pointer-events-none"\n      src=""\n      title="YouTube video player"\n      frameborder="0"\n      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"\n      allowfullscreen\n    ></iframe>\n    </div>\n  </div>\n  </div>\n    `;var t;r.insertAdjacentHTML("beforeend",n)}));let t=null;document.querySelectorAll(`.${e} .media-card`).forEach((e=>{e.addEventListener("mouseover",(function(){t=setTimeout((function(){c.call(e)}),500)})),e.addEventListener("mouseleave",(function(){d.call(e)})),e.addEventListener("mouseout",(function(){clearTimeout(t)}))}))}))};function c(){this.style.transform="scale(1.7)",this.style.zIndex=999,function(e){const n=e.getBoundingClientRect();return n.left<=100||n.right>=(window.innerWidth-100||document.documentElement.clientWidth-100)}(this)&&(this.style.translate=this.getBoundingClientRect().x<window.innerWidth/2?"120px":"-120px"),this.querySelector(".cover").style.opacity=0,this.querySelector(".title").style.opacity=0,this.querySelector(".details-overlay").style.opacity=1;const e=this.querySelector("iframe.trailer");e.classList.toggle("pointer-events-none"),e.src===window.location.href&&setTimeout((()=>{e.src=`https://www.youtube-nocookie.com/embed/${this.dataset.video_id}?controls=0`}),100)}function d(){const e=this.querySelector("iframe.trailer");e.src="",this.style.transform="scale(1)",this.style.zIndex=1,e.classList.toggle("pointer-events-none"),this.querySelector(".cover").style.opacity=1,this.querySelector(".title").style.opacity=1,this.style.translate="0",this.querySelector(".details-overlay").style.opacity=0}const p=document.querySelector(".search-btn"),u=document.querySelector(".search-bar"),g=document.querySelector(".hide-search-bar");document.addEventListener("DOMContentLoaded",(()=>{s("trending","Trending",a),s("popular-this-season","Popular this season",i),s("upcoming","Upcoming next season",o),s("popular","All time popular",l)})),p.addEventListener("click",(()=>{var e;e=p,u.classList.add("_visible"),e.classList.add("_hidden")})),g.addEventListener("click",(()=>{var e;e=p,u.classList.remove("_visible"),e.classList.remove("_hidden")}))})();